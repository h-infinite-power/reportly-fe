LLM 시선 기반 브랜드 평가 시스템

---

## 1. 개요 (Overview)

- **제품명**: 브랜드 평가 Agent
- **목표**: GPT 기반의 LLM이 브랜드에 대한 GPT 기반 LLM 답변을 통해 LLM이 인식하는 브랜드 이미지, 전략적 포지셔닝, 분석 요약 등의 인사이트를 시각화하여 제공
- **핵심 개념**: 요즘은 챗봇으로 다들 대화하므로 거기서 우리 브랜드가 어떻게 보여지는지 알게해주는 개념. 한마디로 **LLM 시선 기반 브랜드 평가 시스템**

---

## 2. 문제 정의 (Problem Statement)

- AI와의 대화가 일상화되면서 브랜드가 GPT와 같은 LLM에 어떻게 인식되느냐가 중요한 경쟁력이 됨
- 하지만 현재 기업은 자사 브랜드가 LLM에 어떻게 보이는지 확인할 방법이 없음
- 경쟁사와의 상대적 비교 없이, 자사에 대한 객관적 절대 평가조차 어려운 상황

---

## 3. 솔루션 (Proposed Solution)

- 자세한 내용은 아래 사용자 시나리오 참조
  - 사용자는 브랜드명, 미리 정의된 업종 中 셀렉트 박스로 선택, 경쟁사(최대 3개)를 입력
    <aside>
    📌
    
    - 업종 종류
    1. 이커머스
    2. 금융/핀테크
    </aside>
    
    - GPT-4o에 7개 카테고리 질문을 기반으로 질의 요청
        
        <aside>
        📌
        
        - 업종별 카테고리 7개는 AI 프롬프트를 통해 정해짐
        </aside>
        
    
    - 질문 별 응답은 자사 원문, 긍,부정 키워드(각 3개 고정), 자사 및 경쟁사 점수, 경쟁사 요약 답변, 각 점수의 근거까지 포함(자세한 내용은 아래 응답 Json확인)
    - 결과를 종합 지표와 시각화로 보여줌 (막대 그래프, 레이더차트 등 활용)
    - AI 인사이트 요약 (3개 탭 구조)
        - 강점 탭: 브랜드 질문 7개에 대한 전체 답변을 바탕으로 자사 브랜드 강점 분석 (3-4줄)
        - 약점 탭: 브랜드 질문 7개에 대한 전체 답변을 바탕으로 약점 분석 (3-4줄)
        - 개선제안 탭: 브랜드 질문 7개에 대한 전체 답변을 바탕으로 or 약점 분석을 바탕으로 실행 가능한 개선 방안 (3-4줄)
    - **상호 비교** 기능은 MVP 이후 별도 버튼을 통해 제공 예정

---

## 4. 사용자 시나리오 (User Scenarios)

- 폼 입력 내용, 결과지 내용 등 상세한 내용은 아래 상세 기능 명세 참조

### ✅ 1. 신규 분석

1. 사용자가 홈페이지에 접속
2. ‘브랜드 분석하기’ 메뉴 클릭
3. 브랜드명, 업종, 주요 경쟁사 선택(전체 셀렉트 박스로 선택, 브랜드 명과 경쟁사 명의 경우 셀렉트 박스 내에 직접 입력을 선택 시 인풋 박스가 보여져 직접 입력 가능하도록 설계)
   1. 업종의 경우 MVP 단계에선 이커머스, 금융/핀테크로 결정 (이후 확장)
4. ‘AI 분석 시작하기’ 버튼 클릭 → MVP 단계에선 간단한 로딩 애니메이션으로 구현
5. 로딩 애니메이션 이후 → 결과 상세 페이지로 이동

### ✅ 2. 리포트 다운

1. 결과 화면에서 우측 상단 ‘리포트 다운’ 버튼 클릭 시 전체 화면이 PNG로 캡처되어 저장 (개발 검토필요)

### ✅ 3. 리포트 결과 조회

1. 경쟁 회사 점수 조회 영역
   1. 종합점수
      1. 점수 영역
         1. 점수표시 방법 : 회사업종전체점수(AnalysisResult.companyIndustryTotalScore)를 의미함
      2. 업계 평균 대비 +2.3% 영역
         1. 점수표시 방법 : 경쟁사 회사업종전체점수(AnalysisResult.companyIndustryTotalScore) 의 전체 평균을 구하고 그에 따른 차이와 우리회사 평균을 계산하여 몇프로 높고 낮은지를 계산함
   2. 경쟁력 순위
      1. 표시 방법 : 회사업종전체점수(AnalysisResult.companyIndustryTotalScore)로 경쟁사와 순위 비교(총 4개사)
   3. 강점 카테고리
      1. 강점 카테고리 영역(업계평균 카테고리점수와(categoryScore) 계산)
         1. 최고 득점 방법 : 카테고리별점수 categoryScore의 평균을 계산하여 제일 높은 차이 나는 카테고리명
   4. 약점 카테고리
      1. 약점 카테고리 영역(업계평균 카테고리점수와(categoryScore) 계산)
         1. 격자 표시 방법 : 카테고리별점수 categoryScore의 평균을 계산하여 제일 낮은 부분의 카테고리명 명시
2. AI 인사이트 요약 영역
   1. strongPoint, weakPoint, improvements 값을 명시한다.
3. 카테고리 관련 점수 영역
   1. 카테고리별 점수 표현방법 : rest-api 서버에서 아래 형태로 반환해주면 fe에서 targetCategoryScore와 competitorCategoryScoreList를 이용하여 외부 라이브러리로 막대그래프 구현한다.
      1. targetCategoryScore : {}, competitorCategoryScoreAvg : {}, competitorCategoryScoreList : []
   2. 경쟁사비교그래프 표현 방법 : `3-a 카테고리별 점수 표현방법` api 에서 함께 얻어오는 값으로써 targetCategoryScore와 competitorCategoryScoreAvg 내의 카테고리 점수들을 이용하여 외부 라이브러리로 레이더차트 처리한다
      1. targetCategoryScore : {}, competitorCategoryScoreAvg : {}, competitorCategoryScoreList : []
4. 질문/답변영역
   1. `2. AI 인사이트 요약 영역 ` api를 통해 질문/답변과 카테고리별 점수, 긍정/부정 키워드를 반환받아 그려낸다.

---

## 5. 상세 기능 명세 (Detailed Feature Specifications)

### 📌 결과 화면

### Section 1: 전체 요약 영역 (절대 평가)

- ‘AI 결과가 절대적 사실이 아닌 평가 데이터라는 점을 사용자에게 명시’ → 법적 문제 회피
- 분석 일자 및 브랜드 명 , 분석일자 노출

| 항목             | 설명                                                                                              |
| ---------------- | ------------------------------------------------------------------------------------------------- |
| 종합 점수        | 질문 별 점수 평균으로 자사 순위만 보여줌 (경쟁사 평균 점수 대비 몇 퍼센트인지 노출되어야 함)      |
| 경쟁력 순위      | 답변을 통해 나온 점수를 기반으로 랭킹으로 보여짐                                                  |
| 강점 카테고리    | 답변을 통해 나온 점수 중 가장 점수가 높은 카테고리 노출 (점수까지 노출되어야 함)                  |
| 약점 카테고리    | 답변을 통해 나온 점수 중 가장 점수가 낮은 카테고리 노출 (경쟁사와 점수 격차까지 노출되어야 함)    |
| AI 인사이트 요약 | ???를 바탕으로 강점/약점/개선 제안으로 구분하여 2-3줄 정도로 시각화                               |
| 카테고리 별 점수 | 답변에서 나온 점수를 기반으로 각 카테고리 별 점수를 시각화 (경쟁사의 경우 평균치로 계산하여 비교) |

| 경쟁사 비교 그래프
(레이더 차트) | 답변에서 나온 점수를 기반으로 각 카테고리 별 점수를 시각화 (경쟁사의 경우 평균치로 계산하여 비교) |

---

### Section 2: 질문별 상세 영역

- 질문은 총 카테고리 별 7개로 구성
- 각 질문 클릭 시 아래 정보 노출:
  - 자사 및 경쟁사 답변
    - 자사 : 상세 답변 (100자 이내)
    - 경쟁사 : 요약 답변 (30자 이내)
  - 질문 별 긍정/부정 키워드 각 3개씩
  - 자사 브랜드 점수 및 경쟁사 브랜드 점수

---

## 6. 기술적 고려사항 (Technical Considerations)

### 📌 BE 플로우

```
1. 브랜드 분석하기 클릭
2. UI에서 브랜드명, 업종, 경쟁사(최대 3개) 입력
3. POST /analyze 호출 (Spring Boot API)

→ 처리 과정
- 미리 정의된 질문 프롬프트 사용
- 브랜드명/업종/일자 기준으로 기존 응답 데이터가 없을 경우:
    → Python AI 서빙 서버로 LLM 질의 요청 (POST)
```

### 📌 AI 서빙 구조

- Python 기반 FastAPI 서버 구축
- 프롬프트는 아래와 같은 형식 사용

### 💬 예시 프롬프트

```
너는 화장품 브랜드 분석 전문가야.
다음 브랜드에 대해 특정 질문에 대한 요약 응답을 생성하고,
브랜드 전략적 관점에서 정량 평가해줘.

📌 브랜드명: {브랜드명}
📌 질문: "{질문 내용}"
📌 카테고리: {카테고리 이름}

조건:
- 실제 전략, 실행 계획, 시장 포지셔닝 기반 3~5문장 요약
- 핵심 키워드 3~5개
- 전략 점수 (100점 기준)
- 신뢰도 (0.0 ~ 1.0)
- supporting_evidence 포함

```

### 💾 응답 형식 (JSON)

```json
{
  "question_id": "{질문 ID}",
  "brand": "{브랜드명}",
  "summary": "요약 응답",
  "content": "전체 응답 본문 (선택)",
  "keywords": ["키워드1", "키워드2", "키워드3"],
  "category": "{카테고리 이름}",
  "score": 85,
  "confidence": 0.87,
  "supporting_evidence": "점수에 영향을 준 핵심 근거"
}
```

---

## 7. 성공 기준 (Success Metrics)

- QA
  - 결과지가 정상적으로 저장된다
  - 결과지가 정상적으로 노출된다.

---

## 8. 핵심 기능 (Core Features)

1. 브랜드명 + 업종 + 경쟁사 입력 → 결과 생성
2. 결과화면에서 절대점수 기반 지표, 요약, 그래프 등 확인 가능

---

## 10. 프로젝트 구조 (System Architecture)

```
[Frontend: Next.js SSR]
- ‘브랜드 분석하기’ → 정보 입력 → Spring API 호출
- 분석 결과 페이지 구성 (Section1 + Section2)
- 분석결과보기 → 결과 목록 → 상세 진입

[Backend: Spring Boot REST API]
- 사용자 입력 정보 수신
- DB 조회 → 결과 없으면 AI 서버에 요청
- 결과 저장 및 전달

[AI 서버: Python FastAPI]
- GPT 프롬프트 생성 및 LLM 응답 처리
- 질문별 요약, 키워드, 점수, 근거 생성

[Database]
- 브랜드명/질문/점수/응답 결과 저장

🔗 현재 API 서버 URL
https://h-infinite-power.store/reportly-api/**

```

---
